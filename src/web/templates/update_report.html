<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>{{ report.report_name }}</title>
<link rel="stylesheet" href="{{ url_for('static', path='css/input_form.css') }}">
</head>
<style>
    .updated {
        border: 1px solid #024602;
        background-color: #c1db9d;
        border-radius: 4px;
    }
</style>
<body>
<header>
    <h1>{{ report.report_name }}</h1>
</header>

<main>
    <div class="section">
        <h2>General Information</h2>
        <label>Report Name: <input type="text" id="name" placeholder="air compressor" value="{{ report.report_name }}" disabled/></label>
        <label>Description:
            <div class="inline-button-wrapper">
                <input type="text" id="description" value="{{ report.json_data.description }}" />
                <!--
                <button type="button" id="description_button">Edit</button>
                -->
            </div>
        </label>
        <label>Procedure Number: <input type="text" id="procedure_number" placeholder="01" value="{{ report.json_data.procedure_number }}"/></label>
        <p class="warning_label" id="procedure_number_label"></p>
        <label>Facility: <input type="text" id="facility" value="{{ report.json_data.facility }}"/></label>
        <label>Location: <input type="text" id="location" value="{{ report.json_data.location }}"/></label>
        <label>Revision: <input type="text" id="revision" value="{{ report.json_data.revision }}"/></label>
        <p class="warning_label" id="revision_label"></p>
        <label>Date:
            <div class="inline-button-wrapper">
                <input type="date" id="date" value="{{ report.json_data.date }}"/>
                <button type="button" id="date_button">Today</button>
            </div>
        </label>
        <label>Origin: <input type="text" id="origin" value="{{ report.json_data.origin }}"/></label>
        <p class="warning_label" id="origin_label"></p>
        <label>Machine Image:
            <div class="input-with-preview" id="machine_image_picker">
                <div class="inline-button-wrapper">
                    <input type="file" accept="image/*" id="machine_image" class="image-picker" disabled/>
                    <button type="button" id="machine_image_button" class="clear-photo-button">Clear</button>
                </div>
                <img id="machine_image_preview" class="preview_image"/>
            </div>
        </label>
        <p class="warning_label" id="machine_image_label"></p>
        <label>Isolation Points: <input type="text" id="isolation_points" value="{{ report.json_data.isolation_points }}"/></label>
        <p class="warning_label" id="isolation_points_label"></p>
        <label>Notes: <input type="text" id="notes" value="{{ report.json_data.notes }}"/></label>
        <label>Prepared By: <input type="text" id="prepared_by" value="{{ report.json_data.prepared_by }}"/></label>
        <label>Approved By: <input type="text" id="approved_by" value="{{ report.json_data.approved_by }}"/></label>
        <label>Approved By Company:
            <div class="inline-button-wrapper">
                <input type="text" id="approved_by_company" value="{{ report.json_data.approved_by_company }}"/>
                <!--
                <button type="button" id="approved_by_company_button">Cardinal</button>
                -->
            </div>
        </label>
        <label>Completed Date:
            <div class="inline-button-wrapper">
                <input type="date" id="completed_date" value="{{ report.json_data.completed_date }}"/>
                <button type="button" id="completed_date_button">Today</button>
            </div>
        </label>
    </div>

    <div class="section">
        <h2>Energy Sources</h2>
        <div id="sources"></div>
        <div class="source-buttons">
            <button type="button" id="addSourceBtn">Add Source</button>
            <button type="button" id="removeSourceBtn">Remove Source</button>
        </div>
    </div>

    <div style="display: flex; justify-content: space-between; align-items: center;" class="section">
        <button type="button" id="updateBtn">Update</button>
    </div>
</main>
<script type="module" src="{{ url_for('static', path='js/update_report.js') }}"></script>
<script>
    window.reportName = "{{ report.report_name }}";
</script>
</body>
</html>
