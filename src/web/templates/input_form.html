<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Data Acquisition Form</title>
<link rel="stylesheet" href="{{ url_for('static', path='css/input_form.css') }}">
</head>
<body>
<header>
    <a href="{{ url_for('pdf_list') }}" class="back-btn">&#8592; Back</a>
    <h1>Data Acquisition Form</h1>
</header>

<main>
    <div class="section">
        <h2>General Information</h2>
        <label>Report Name: <input type="text" id="name" placeholder="air compressor" /></label>
        <label>Description: <input type="text" id="description" /></label>
        <label>Procedure Number: <input type="text" id="procedure_number" placeholder="01"/></label>
        <p class="warning_label" id="procedure_number_label"></p>
        <label>Facility: <input type="text" id="facility" /></label>
        <label>Location: <input type="text" id="location" /></label>
        <label>Revision: <input type="text" id="revision" /></label>
        <p class="warning_label" id="revision_label"></p>
        <label>Date:
            <div class="inline-button-wrapper">
                <input type="date" id="date" />
                <button type="button" id="date_button">Today</button>
            </div>
        </label>
        <label>Origin: <input type="text" id="origin" /></label>
        <p class="warning_label" id="origin_label"></p>
        <label>Machine Image:
            <div class="input-with-preview" id="machine_image_picker">
                <div class="inline-button-wrapper">
                    <input type="file" accept="image/*" id="machine_image" class="image-picker" />
                    <button type="button" id="machine_image_button" class="clear-photo-button">Clear</button>
                </div>
                <img id="machine_image_preview" class="preview_image" />
            </div>
        </label>
        <p class="warning_label" id="machine_image_label"></p>
        <label>Isolation Points: <input type="text" id="isolation_points" /></label>
        <p class="warning_label" id="isolation_points_label"></p>
        <label>Notes: <input type="text" id="notes" /></label>
        <label>Prepared By: <input type="text" id="prepared_by" /></label>
        <label>Approved By: <input type="text" id="approved_by" /></label>
        <label>Approved By Company:
            <div class="inline-button-wrapper">
                <input type="text" id="approved_by_company" />
                <!--
                <button type="button" id="approved_by_company_button">Cardinal</button>
                -->
            </div>
        </label>
        <label>Completed Date:
            <div class="inline-button-wrapper">
                <input type="date" id="completed_date" />
                <button type="button" id="completed_date_button">Today</button>
            </div>
        </label>
    </div>

    <div class="section">
        <h2>Energy Sources</h2>
        <div id="sources"></div>
        <div class="source-buttons">
            <button type="button" id="addSourceBtn">Add Source</button>
            <button type="button" id="removeSourceBtn">Remove Source</button>
        </div>
    </div>

    <div class="section">
        <h2>Output</h2>
        <textarea id="output"></textarea>
    </div>

    <div style="display: flex; justify-content: space-between; align-items: center;" class="section">
        <div>
            <button type="button" id="generateBtn">Generate JSON</button>
            <button type="button" id="downloadBtn" style="margin-left: 10px;">Download</button>
        </div>
        <button type="button" id="uploadBtn">Upload</button>
    </div>
</main>

<script type="module" src="{{ url_for('static', path='js/input_form.js') }}"></script>
<script type="module" src="{{ url_for('static', path='js/json_handlers.js') }}"></script>
<script type="module" src="{{ url_for('static', path='js/upload_json.js') }}"></script>
</body>
</html>
